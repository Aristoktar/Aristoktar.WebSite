
@{
    ViewBag.Title = "Lorenz";
}

<h2>Lorenz</h2>

<canvas height='500' width='500' id='cnv'></canvas>
<input type="number" step="0.01" id="axis_x" value="3.051522" />
<input type="number" step="0.01" id="axis_y" value="1.582542" />
<input type="number" step="0.01" id="axis_z" value="15.62388" />
<button id="draw">
    draw


</button>
         @section scripts{
<script type="text/javascript">
    $(function(){
        $('#draw').click(function () {
            drawAttractor();
        });

        function drawAttractor() {
            var cnv = document.getElementById("cnv");
            var cx = cnv.getContext('2d');
            var x1, y1, z1;
            var x = parseFloat(document.getElementById("axis_x").value);
            var y = parseFloat(document.getElementById("axis_y").value);
            var z = parseFloat(document.getElementById("axis_z").value);
            var dt = 0.0001;
            var a = 5, b = 15, c = 1;
            var h = parseInt(cnv.getAttribute("height"));
            var w = parseInt(cnv.getAttribute("width"));
            var id = cx.createImageData(w, h);
            var rd = Math.round;
            var idx = 0;

            i = 1000000; while (i--) {
                x1 = x + a * (-x + y) * dt;
                y1 = y + (b * x - y - z * x) * dt;
                z1 = z + (-c * z + x * y) * dt;
                x = x1; y = y1; z = z1;
                idx = 4 * (rd(19.3 * (y - x * 0.292893) + 320) + rd(-11 * (z + x * 0.292893) + 392) * w);
                id.data[idx + 3] = 255;
            }

            cx.putImageData(id, 0, 0);
             cx.
        }
        function drawAttractorPart() { }

    }
         )
</script>
    }